{"version":3,"sources":["../../../src/model/dietmaster.js"],"names":["selectDiet","req","res","next","Diet","hims_d_diet_master_id","db","httpStatus","dataBaseNotInitilizedError","pagePaging","paging","Page","pageNo","page","pageSize","condition","query","values","records","result","error","e","module","exports"],"mappings":";;AAAA;;AAMA;;;;AACA;;;;AACA;;;;AAEA,IAAIA,aAAa,SAAbA,UAAa,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,MAAIC,OAAO;AACTC,2BAAuB;AADd,GAAX;AAGA,MAAI;AACF,QAAIJ,IAAIK,EAAJ,IAAU,IAAd,EAAoB;AAClBH,WAAKI,qBAAWC,0BAAX,EAAL;AACD;AACD,QAAIC,aAAa,EAAjB;AACA,QAAIR,IAAIS,MAAJ,IAAc,IAAlB,EAAwB;AACtB,UAAIC,OAAOD,OAAOT,IAAIS,MAAX,CAAX;AACAD,oBAAc,YAAYE,KAAKC,MAAjB,GAA0B,GAA1B,GAAgCC,KAAKC,QAAnD;AACD;;AAED,QAAIC,YAAY,2BAAe,sBAAOX,IAAP,EAAaH,IAAIe,KAAjB,CAAf,CAAhB;AACA,gCACE;AACEV,UAAIL,IAAIK,EADV;AAEEU,aACE,sEACAD,UAAUA,SADV,GAEA,GAFA,GAGAN,UANJ;AAOEQ,cAAQF,UAAUE;AAPpB,KADF,EAUE,kBAAU;AACRhB,UAAIiB,OAAJ,GAAcC,MAAd;AACAhB;AACD,KAbH,EAcE,iBAAS;AACPA,WAAKiB,KAAL;AACD,KAhBH,EAiBE,IAjBF;AAmBD,GA9BD,CA8BE,OAAOC,CAAP,EAAU;AACVlB,SAAKkB,CAAL;AACD;AACF,CArCD;;AAuCAC,OAAOC,OAAP,GAAiB;AACfvB;AADe,CAAjB","file":"dietmaster.js","sourcesContent":["import {\n  whereCondition,\n \n  selectStatement\n  \n} from \"../utils\";\nimport extend from \"extend\";\nimport httpStatus from \"../utils/httpStatus\";\nimport { logger, debugFunction, debugLog } from \"../utils/logging\";\n\nlet selectDiet = (req, res, next) => {\n  let Diet = {\n    hims_d_diet_master_id: \"ALL\"\n  };\n  try {\n    if (req.db == null) {\n      next(httpStatus.dataBaseNotInitilizedError());\n    }\n    let pagePaging = \"\";\n    if (req.paging != null) {\n      let Page = paging(req.paging);\n      pagePaging += \" LIMIT \" + Page.pageNo + \",\" + page.pageSize;\n    }\n\n    let condition = whereCondition(extend(Diet, req.query));\n    selectStatement(\n      {\n        db: req.db,\n        query:\n          \"SELECT * FROM `hims_d_diet_master` WHERE `record_status`='A' AND \" +\n          condition.condition +\n          \" \" +\n          pagePaging,\n        values: condition.values\n      },\n      result => {\n        req.records = result;\n        next();\n      },\n      error => {\n        next(error);\n      },\n      true\n    );\n  } catch (e) {\n    next(e);\n  }\n};\n\nmodule.exports = {\n  selectDiet\n};\n"]}
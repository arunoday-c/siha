{"version":3,"sources":["../../../../src/Payroll/controller/holiday.js"],"names":["config","db","api","post","addWeekOffs","req","res","next","result","records","weekOff_exist","status","httpStatus","ok","json","success","releaseConnection","get","getAllHolidays","addHoliday","holiday_exist","delete","deleteHoliday","invalid_input"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;AACA;;AAMA;;;;kBACe,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AACjC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,IAAJ,CACE,cADF,EAEEC,oBAFF,EAGE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;;AAEA,QAAID,OAAOE,aAAP,IAAwB,IAA5B,EAAkC;AAChCJ,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,KADoB;AAE7BN,iBAASD;AAFoB,OAA/B;AAID,KALD,MAKO;AACLF,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BN,iBAASD;AAFoB,OAA/B;AAID;AACDD;AACD,GAlBH,EAmBES,wBAnBF;;AAsBA;AACAd,MAAIe,GAAJ,CACE,iBADF,EAEEC,uBAFF,EAGE,UAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;;AAEAH,QAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BN,eAASD;AAFoB,KAA/B;;AAKAD;AACD,GAZH,EAaES,wBAbF;;AAgBA;;AAEAd,MAAIC,IAAJ,CACE,aADF,EAEEgB,mBAFF,EAGE,UAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;;AAEA,QAAID,OAAOY,aAAP,IAAwB,IAA5B,EAAkC;AAChCd,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,KADoB;AAE7BN,iBAASD;AAFoB,OAA/B;AAID,KALD,MAKO;AACLF,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BN,iBAASD;AAFoB,OAA/B;AAID;AACDD;AACD,GAlBH,EAmBES,wBAnBF;;AAsBA;AACAd,MAAImB,MAAJ,CAAW,gBAAX,EAA6BC,sBAA7B,EAA4C,UAACjB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9D,QAAIC,SAASH,IAAII,OAAjB;AACA,QAAID,OAAOe,aAAP,IAAwB,IAA5B,EAAkC;AAChCjB,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,KADoB;AAE7BN,iBAAS;AAFoB,OAA/B;AAID,KALD,MAKO;AACLH,UAAIK,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BN,iBAASD;AAFoB,OAA/B;AAID;AACDD;AACD,GAdD;;AAgBA,SAAOL,GAAP;AACD,C","file":"holiday.js","sourcesContent":["import { Router } from \"express\";\nimport { releaseConnection } from \"../../utils\";\nimport httpStatus from \"../../utils/httpStatus\";\nimport {\n  addWeekOffs,\n  getAllHolidays,\n  addHoliday,\n  deleteHoliday\n} from \"../model/holiday\";\nimport { debugLog } from \"../../utils/logging\";\nexport default ({ config, db }) => {\n  let api = Router();\n\n  // created by irfan :\n  api.post(\n    \"/addWeekOffs\",\n    addWeekOffs,\n    (req, res, next) => {\n      let result = req.records;\n\n      if (result.weekOff_exist == true) {\n        res.status(httpStatus.ok).json({\n          success: false,\n          records: result\n        });\n      } else {\n        res.status(httpStatus.ok).json({\n          success: true,\n          records: result\n        });\n      }\n      next();\n    },\n    releaseConnection\n  );\n\n  // created by irfan :\n  api.get(\n    \"/getAllHolidays\",\n    getAllHolidays,\n    (req, res, next) => {\n      let result = req.records;\n\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n\n      next();\n    },\n    releaseConnection\n  );\n\n  // created by irfan :\n\n  api.post(\n    \"/addHoliday\",\n    addHoliday,\n    (req, res, next) => {\n      let result = req.records;\n\n      if (result.holiday_exist == true) {\n        res.status(httpStatus.ok).json({\n          success: false,\n          records: result\n        });\n      } else {\n        res.status(httpStatus.ok).json({\n          success: true,\n          records: result\n        });\n      }\n      next();\n    },\n    releaseConnection\n  );\n\n  // created by irfan\n  api.delete(\"/deleteHoliday\", deleteHoliday, (req, res, next) => {\n    let result = req.records;\n    if (result.invalid_input == true) {\n      res.status(httpStatus.ok).json({\n        success: false,\n        records: \"please provide valid input\"\n      });\n    } else {\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n    }\n    next();\n  });\n\n  return api;\n};\n"]}
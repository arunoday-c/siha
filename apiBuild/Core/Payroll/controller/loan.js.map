{"version":3,"sources":["../../../../src/Payroll/controller/loan.js"],"names":["config","db","api","post","addLoanApplication","req","res","next","result","records","status","httpStatus","ok","json","success","releaseConnection","get","getLoanApplication","getLoanLevels","put","authorizeLoan","invalid_input"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;AACA;;;;kBAOe,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AACjC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,IAAJ,CACE,qBADF,EAEEC,wBAFF,EAGE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;AACAH,QAAII,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BL,eAASD;AAFoB,KAA/B;AAIAD;AACD,GAVH,EAWEQ,wBAXF;;AAcA;AACAb,MAAIc,GAAJ,CACE,qBADF,EAEEC,wBAFF,EAGE,UAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;AACAH,QAAII,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BL,eAASD;AAFoB,KAA/B;AAIAD;AACD,GAVH,EAWEQ,wBAXF;;AAcA;AACAb,MAAIc,GAAJ,CAAQ,gBAAR,EAA0BE,mBAA1B,EAAyC,UAACb,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3D,QAAIC,SAASH,IAAII,OAAjB;AACAH,QAAII,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BL,eAASD;AAFoB,KAA/B;AAIAD;AACD,GAPD;;AASA;AACAL,MAAIiB,GAAJ,CAAQ,gBAAR,EAA0BC,mBAA1B,EAAyC,UAACf,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3D,QAAIC,SAASH,IAAII,OAAjB;AACA,QAAID,OAAOa,aAAP,IAAwB,IAA5B,EAAkC;AAChCf,UAAII,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,KADoB;AAE7BL,iBAAS;AAFoB,OAA/B;AAID,KALD,MAKO;AACLH,UAAII,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BL,iBAASD;AAFoB,OAA/B;AAID;AACDD;AACD,GAdD;AAeA,SAAOL,GAAP;AACD,C","file":"loan.js","sourcesContent":["import { Router } from \"express\";\nimport { releaseConnection } from \"../../utils\";\nimport httpStatus from \"../../utils/httpStatus\";\nimport {\n  addLoanApplication,\n  getLoanApplication,\n  getLoanLevels,\n  authorizeLoan\n} from \"../model/loan\";\n\nexport default ({ config, db }) => {\n  let api = Router();\n\n  // created by irfan :\n  api.post(\n    \"/addLoanApplication\",\n    addLoanApplication,\n    (req, res, next) => {\n      let result = req.records;\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n      next();\n    },\n    releaseConnection\n  );\n\n  // created by irfan :\n  api.get(\n    \"/getLoanApplication\",\n    getLoanApplication,\n    (req, res, next) => {\n      let result = req.records;\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n      next();\n    },\n    releaseConnection\n  );\n\n  // created by irfan :\n  api.get(\"/getLoanLevels\", getLoanLevels, (req, res, next) => {\n    let result = req.records;\n    res.status(httpStatus.ok).json({\n      success: true,\n      records: result\n    });\n    next();\n  });\n\n  // created by irfan\n  api.put(\"/authorizeLoan\", authorizeLoan, (req, res, next) => {\n    let result = req.records;\n    if (result.invalid_input == true) {\n      res.status(httpStatus.ok).json({\n        success: false,\n        records: \"please provide valid input\"\n      });\n    } else {\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n    }\n    next();\n  });\n  return api;\n};\n"]}
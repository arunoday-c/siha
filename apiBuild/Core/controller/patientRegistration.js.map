{"version":3,"sources":["../../../src/controller/patientRegistration.js"],"names":["config","db","api","post","addPatientToRegisteration","req","res","next","result","records","length","httpStatus","generateError","notFound","status","ok","json","success","releaseConnection","put","updatePatientRegistrstion","get","patientSelect"],"mappings":";;;;;;AAAA;;AACA;;AAKA;;AACA;;AACA;;;;;;kBACe,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AACjC,MAAIC,MAAM,sBAAV;AACAA,MAAIC,IAAJ,CACE,MADF,EAEEC,8CAFF,EAGE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;AACA,QAAID,OAAOE,MAAP,IAAiB,CAArB,EAAwB;AACtBH,WAAKI,qBAAWC,aAAX,CAAyBD,qBAAWE,QAApC,EAA8C,kBAA9C,CAAL;AACD,KAFD,MAEO;AACLP,UAAIQ,MAAJ,CAAWH,qBAAWI,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BR,iBAASD;AAFoB,OAA/B;AAIAD;AACD;AACF,GAdH,EAeEW,wBAfF;AAiBAhB,MAAIiB,GAAJ,CACE,SADF,EAEEC,8CAFF,EAGE,UAACf,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;AACAH,QAAIQ,MAAJ,CAAWH,qBAAWI,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BR,eAASD;AAFoB,KAA/B;AAIAD;AACD,GAVH,EAWEW,wBAXF;AAaAhB,MAAImB,GAAJ,CACE,MADF,EAEEC,kCAFF,EAGE,UAACjB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,SAASH,IAAII,OAAjB;;AAEA,QAAID,OAAOE,MAAP,IAAiB,CAArB,EAAwB;AACtBH,WAAKI,qBAAWC,aAAX,CAAyBD,qBAAWE,QAApC,EAA8C,iBAA9C,CAAL;AACD,KAFD,MAEO;AACLP,UAAIQ,MAAJ,CAAWH,qBAAWI,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,iBAAS,IADoB;AAE7BR,iBAASD;AAFoB,OAA/B;AAIAD;AACD;AACF,GAfH,EAgBEW,wBAhBF;AAkBA,SAAOhB,GAAP;AACD,C","file":"patientRegistration.js","sourcesContent":["import { Router } from \"express\";\nimport {\n  addPatientToRegisteration,\n  updatePatientRegistrstion,\n  patientSelect\n} from \"../model/patientRegistration\";\nimport { releaseConnection } from \"../utils\";\nimport { CLIENT_RENEG_WINDOW } from \"tls\";\nimport httpStatus from \"../utils/httpStatus\";\nexport default ({ config, db }) => {\n  let api = Router();\n  api.post(\n    \"/add\",\n    addPatientToRegisteration,\n    (req, res, next) => {\n      let result = req.records;\n      if (result.length == 0) {\n        next(httpStatus.generateError(httpStatus.notFound, \"No records found\"));\n      } else {\n        res.status(httpStatus.ok).json({\n          success: true,\n          records: result\n        });\n        next();\n      }\n    },\n    releaseConnection\n  );\n  api.put(\n    \"/update\",\n    updatePatientRegistrstion,\n    (req, res, next) => {\n      let result = req.records;\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n      next();\n    },\n    releaseConnection\n  );\n  api.get(\n    \"/get\",\n    patientSelect,\n    (req, res, next) => {\n      let result = req.records;\n\n      if (result.length == 0) {\n        next(httpStatus.generateError(httpStatus.notFound, \"No record found\"));\n      } else {\n        res.status(httpStatus.ok).json({\n          success: true,\n          records: result\n        });\n        next();\n      }\n    },\n    releaseConnection\n  );\n  return api;\n};\n"]}
{"version":3,"sources":["../../../src/controller/globalSearch.js"],"names":["api","get","searchData","req","res","next","result","records","undefined","Object","total_pages","status","httpStatus","ok","json","success","releaseConnection"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;kBACe,YAAM;AACnB,MAAIA,MAAM,sBAAV;AACAA,MAAIC,GAAJ,CACE,MADF,EAEEC,wBAFF,EAGE,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClB,QAAIC,eAAJ;AACA,QAAIH,IAAII,OAAJ,KAAgBC,SAApB,EAA+B;AAC7BF,eAAS,IAAIG,MAAJ,EAAT;AACAH,aAAO,YAAP,IAAuBH,IAAII,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkBG,WAAzC;AACAJ,aAAO,MAAP,IAAiBH,IAAII,OAAJ,CAAY,CAAZ,CAAjB;AACD;AACDH,QAAIO,MAAJ,CAAWC,qBAAWC,EAAtB,EAA0BC,IAA1B,CAA+B;AAC7BC,eAAS,IADoB;AAE7BR,eAASD;AAFoB,KAA/B;AAIAD;AACD,GAfH,EAgBEW,wBAhBF;AAkBA,SAAOhB,GAAP;AACD,C","file":"globalSearch.js","sourcesContent":["import { Router } from \"express\";\nimport { searchData } from \"../model/globalSearch\";\nimport { releaseConnection } from \"../utils\";\nimport httpStatus from \"../utils/httpStatus\";\nexport default () => {\n  let api = Router();\n  api.get(\n    \"/get\",\n    searchData,\n    (req, res, next) => {\n      let result;\n      if (req.records !== undefined) {\n        result = new Object();\n        result[\"totalPages\"] = req.records[1][0].total_pages;\n        result[\"data\"] = req.records[0];\n      }\n      res.status(httpStatus.ok).json({\n        success: true,\n        records: result\n      });\n      next();\n    },\n    releaseConnection\n  );\n  return api;\n};\n"]}
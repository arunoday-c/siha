{"version":3,"sources":["../../../DocumentManagement/src/Utils/imageConfig.js"],"names":["module","exports","resizeImage","file","format","width","height","readStream","fs","createReadStream","_filepath","transform","sharp","_format","undefined","path","extname","replace","toFormat","resize","fit","fill","pipe"],"mappings":";;AAAA;;;;AACA;;;;;;AACAA,OAAOC,OAAP,GAAiB;AACfC,eAAa,qBAACC,IAAD,EAAOC,MAAP,EAAeC,KAAf,EAAsBC,MAAtB,EAAiC;AAC5C,QAAMC,aAAaC,aAAGC,gBAAH,CAAoBC,SAApB,CAAnB;AACA,QAAIC,YAAYC,OAAhB;AACA,QAAIC,UAAU,EAAd;AACA,QAAIT,WAAWU,SAAX,IAAwBV,WAAW,IAAnC,IAA2CA,WAAW,EAA1D,EAA8D;AAC5DS,gBAAUE,KAAKC,OAAL,CAAab,IAAb,CAAV;AACD,KAFD,MAEO;AACLU,gBAAUT,MAAV;AACD;AACDS,cAAUA,QAAQI,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAV;AACAN,gBAAYA,UAAUO,QAAV,CAAmBL,OAAnB,CAAZ;AACA,QAAIR,SAASC,MAAb,EAAqB;AACnBK,kBAAYA,UAAUQ,MAAV,CAAiBd,KAAjB,EAAwBC,MAAxB,EAAgC;AAC1Cc,aAAKR,MAAMQ,GAAN,CAAUC;AAD2B,OAAhC,CAAZ;AAGD;AACD,WAAOd,WAAWe,IAAX,CAAgBX,SAAhB,CAAP;AACD;AAlBc,CAAjB","file":"imageConfig.js","sourcesContent":["import shape from \"sharp\";\nimport fs from \"fs\";\nmodule.exports = {\n  resizeImage: (file, format, width, height) => {\n    const readStream = fs.createReadStream(_filepath);\n    let transform = sharp();\n    let _format = \"\";\n    if (format === undefined || format === null || format === \"\") {\n      _format = path.extname(file);\n    } else {\n      _format = format;\n    }\n    _format = _format.replace(\".\", \"\");\n    transform = transform.toFormat(_format);\n    if (width || height) {\n      transform = transform.resize(width, height, {\n        fit: sharp.fit.fill\n      });\n    }\n    return readStream.pipe(transform);\n  }\n};\n"]}